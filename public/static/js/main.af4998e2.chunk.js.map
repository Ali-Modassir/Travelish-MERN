{"version":3,"sources":["shared/hooks/auth-hooks.js","shared/components/UIElements/Card.js","shared/components/UIElements/Avatar.js","users/components/UserItem.js","users/components/UserList.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Modal.js","shared/components/FormElements/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/LoadingSpinner.js","shared/hooks/http-hooks.js","users/pages/Users.js","shared/util/Validators.js","shared/components/FormElements/Input.js","shared/hooks/form-hooks.js","shared/context/auth-context.js","shared/components/UIElements/imageUpload.js","places/pages/NewPlaces.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","shared/components/UIElements/Map.js","places/components/placeItem.js","places/components/placeList.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","users/pages/auth.js","App.js","index.js"],"names":["logoutTimer","Card","props","className","style","children","Avatar","src","image","alt","width","height","UserItem","to","id","process","name","placeCount","UserList","items","length","map","user","places","Backdrop","ReactDOM","createPortal","onClick","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","Button","href","size","inverse","danger","exact","type","disabled","ErrorModal","onClear","error","LoadingSpinner","asOverlay","useHttpClient","useState","isLoading","setIsLoading","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortCtrl","AbortController","current","push","fetch","signal","response","json","responseData","filter","reqCtrl","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","Users","loadedUsers","setLoadedUsers","users","fetchUsers","VALIDATOR_TYPE_REQUIRE","VALIDATOR_TYPE_MINLENGTH","VALIDATOR_TYPE_MAXLENGTH","VALIDATOR_TYPE_EMAIL","VALIDATOR_REQUIRE","VALIDATOR_MINLENGTH","val","validate","value","validators","isValid","validator","trim","test","inputReducer","state","action","isTouch","Input","useReducer","initialValue","initialValid","inputState","dispatch","onInput","touchHandler","onChangeHandler","target","element","placeholder","onChange","onBlur","rows","htmlFor","label","errorText","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","userId","token","login","logout","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","filePickerRef","fileReader","FileReader","onload","result","readAsDataURL","ref","display","accept","pickedFile","fileIsValid","files","center","click","NewPlaces","history","useHistory","auth","useContext","title","description","address","inputChangeHandler","placeSubmitHandler","formData","FormData","append","Authorization","MainHeader","NavLinks","SideDrawer","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawer","Map","mapRef","zoom","window","google","maps","Marker","position","PlaceItem","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteWarningHandler","confirmDeleteHandler","onDelete","coordinates","creatorID","placeList","place","creator","location","UserPlaces","loadedPlaces","setLoadedPlaces","useParams","userid","fetchPlaces","deletePlaceId","prevPlaces","UpdatePlace","loadedPlace","setLoadedPlace","placeId","setFormData","fetchPlace","placeUpdateSubmitHandler","JSON","stringify","Auth","isLoginMode","setIsLoginMode","email","password","inputHandler","authSubmitHandler","undefined","prevMode","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","uid","expirationDate","Date","getTime","localStorage","setItem","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","getItem","parse","useAuth","path","Provider","render","StrictMode"],"mappings":"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","file":"static/js/main.af4998e2.chunk.js","sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(false);\r\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\r\n  const [userId, setUserId] = useState(false);\r\n\r\n  const login = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate =\r\n      expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n    setTokenExpirationDate(tokenExpirationDate);\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({\r\n        userId: uid,\r\n        token: token,\r\n        expiration: tokenExpirationDate.toISOString(),\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setTokenExpirationDate(null);\r\n    setUserId(null);\r\n    localStorage.removeItem(\"userData\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpirationDate) {\r\n      const remainingTime =\r\n        tokenExpirationDate.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    } else {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpirationDate]);\r\n\r\n  useEffect(() => {\r\n    let storedData = null;\r\n    if (localStorage.getItem(\"userData\")) {\r\n      storedData = JSON.parse(JSON.stringify(localStorage.getItem(\"userData\")));\r\n    }\r\n    if (\r\n      storedData &&\r\n      storedData.token &&\r\n      new Date(storedData.expiration) > new Date()\r\n    ) {\r\n      login(\r\n        storedData.userId,\r\n        storedData.token,\r\n        new Date(storedData.expiration)\r\n      );\r\n    }\r\n  }, [login]);\r\n\r\n  return { token, login, logout, userId };\r\n};\r\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./UserItem.css\";\r\nimport Avatar from \"../../shared/components/UIElements/Avatar\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\n\r\nconst UserItem = (props) => {\r\n  return (\r\n    <li className=\"user-item\">\r\n      <Card className=\"user-item__content\">\r\n        <Link to={`/${props.id}/places`}>\r\n          <div className=\"user-item__image\">\r\n            <Avatar\r\n              image={process.env.REACT_APP_ASSET_URL + `/${props.image}`}\r\n              alt={props.name}\r\n            />\r\n          </div>\r\n          <div className=\"user-item__info\">\r\n            <h2>{props.name}</h2>\r\n            <h3>\r\n              {props.placeCount} {props.placeCount === 1 ? \"Place\" : \"Places\"}\r\n            </h3>\r\n          </div>\r\n        </Link>\r\n      </Card>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserItem;\r\n","import React from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport UserItem from \"./UserItem\";\r\nimport \"./UserList.css\";\r\n\r\nconst UserList = (props) => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"center\">\r\n        <Card>\r\n          <h2>No Users Found</h2>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"users-list\">\r\n      {props.items.map((user) => {\r\n        return (\r\n          <UserItem\r\n            key={user.id}\r\n            id={user.id}\r\n            image={user.image}\r\n            name={user.name}\r\n            placeCount={user.places.length}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport \"./Modal.css\";\r\nimport Backdrop from \"./Backdrop\";\r\n\r\nconst ModalOverlay = (props) => {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n      </header>\r\n      <form\r\n        onSubmit={\r\n          props.onSubmit ? props.onSubmit : (event) => event.preventDefault()\r\n        }\r\n      >\r\n        <div className={`modal__content ${props.contentClass}`}>\r\n          {props.children}\r\n        </div>\r\n        <footer className={`modal__footer ${props.footerClass}`}>\r\n          {props.footer}\r\n        </footer>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n};\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames=\"modal\"\r\n      >\r\n        <ModalOverlay {...props} />\r\n      </CSSTransition>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormElements/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import { useState, useCallback, useRef, useEffect } from \"react\";\r\n\r\nexport const useHttpClient = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState();\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = \"GET\", body = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrl = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrl);\r\n\r\n      try {\r\n        const response = await fetch(url, {\r\n          method,\r\n          body,\r\n          headers,\r\n          signal: httpAbortCtrl.signal,\r\n        });\r\n\r\n        const responseData = await response.json();\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrl\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(responseData.message);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setError(err.message);\r\n        setIsLoading(false);\r\n        throw err;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = () => {\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, clearError };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport UserList from \"../components/UserList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\n\r\nconst Users = () => {\r\n  const [loadedUsers, setLoadedUsers] = useState();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + \"/users\"\r\n        );\r\n        setLoadedUsers(responseData.users);\r\n      } catch (err) {}\r\n    };\r\n    fetchUsers();\r\n  }, [sendRequest]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedUsers && <UserList items={loadedUsers} />}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\nconst VALIDATOR_TYPE_MIN = 'MIN';\nconst VALIDATOR_TYPE_MAX = 'MAX';\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\nconst VALIDATOR_TYPE_FILE = 'FILE';\n\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\nexport const VALIDATOR_MINLENGTH = val => ({\n  type: VALIDATOR_TYPE_MINLENGTH,\n  val: val\n});\nexport const VALIDATOR_MAXLENGTH = val => ({\n  type: VALIDATOR_TYPE_MAXLENGTH,\n  val: val\n});\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\n\nexport const validate = (value, validators) => {\n  let isValid = true;\n  for (const validator of validators) {\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\n      isValid = isValid && value.trim().length > 0;\n    }\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\n      isValid = isValid && value.trim().length >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\n      isValid = isValid && value.trim().length <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MIN) {\n      isValid = isValid && +value >= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_MAX) {\n      isValid = isValid && +value <= validator.val;\n    }\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\n    }\n  }\n  return isValid;\n};\n","import React, { useReducer, useEffect } from \"react\";\r\nimport { validate } from \"../../util/Validators\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst inputReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CHANGE\":\r\n      return {\r\n        ...state,\r\n        value: action.val,\r\n        isValid: validate(action.val, action.validators),\r\n      };\r\n    case \"TOUCH\":\r\n      return {\r\n        ...state,\r\n        isTouch: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst Input = (props) => {\r\n  const [inputState, dispatch] = useReducer(inputReducer, {\r\n    value: props.initialValue || \"\",\r\n    isValid: props.initialValid || false,\r\n    isTouch: false,\r\n  });\r\n\r\n  const { id, onInput } = props;\r\n  const { value, isValid } = inputState;\r\n  useEffect(() => {\r\n    onInput(id, value, isValid);\r\n  }, [id, value, isValid, onInput]);\r\n\r\n  const touchHandler = () => {\r\n    dispatch({\r\n      type: \"TOUCH\",\r\n    });\r\n  };\r\n\r\n  const onChangeHandler = (event) => {\r\n    dispatch({\r\n      type: \"CHANGE\",\r\n      val: event.target.value,\r\n      validators: props.validators,\r\n    });\r\n  };\r\n\r\n  const element =\r\n    props.element === \"input\" ? (\r\n      <input\r\n        id={props.id}\r\n        type={props.type}\r\n        placeholder={props.placeholder}\r\n        onChange={onChangeHandler}\r\n        value={inputState.value}\r\n        onBlur={touchHandler}\r\n      />\r\n    ) : (\r\n      <textarea\r\n        id={props.id}\r\n        rows={props.rows || 3}\r\n        onChange={onChangeHandler}\r\n        value={inputState.value}\r\n        onBlur={touchHandler}\r\n      />\r\n    );\r\n\r\n  return (\r\n    <div\r\n      className={`form-control ${\r\n        !inputState.isValid && inputState.isTouch && \"form-control--invalid\"\r\n      }`}\r\n    >\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {element}\r\n      {!inputState.isValid && inputState.isTouch && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\":\r\n      let formIsValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (!state.inputs[inputId]) {\r\n          continue;\r\n        }\r\n        if (inputId === action.inputId) {\r\n          formIsValid = formIsValid && action.isValid;\r\n        } else {\r\n          formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: { value: action.value, isValid: action.isValid },\r\n        },\r\n        isValid: formIsValid,\r\n      };\r\n\r\n    case \"SET_DATA\":\r\n      return {\r\n        inputs: action.inputs,\r\n        isValid: action.formIsValid,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initialInputs,\r\n    isValid: false,\r\n  });\r\n\r\n  const inputChangeHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value: value,\r\n      isValid: isValid,\r\n      inputId: id,\r\n    });\r\n  }, []);\r\n\r\n  const setFormData = useCallback((inputData, formValidity) => {\r\n    dispatch({\r\n      type: \"SET_DATA\",\r\n      inputs: inputData,\r\n      formIsValid: formValidity,\r\n    });\r\n  }, []);\r\n\r\n  return [formState, inputChangeHandler, setFormData];\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  userId: null,\r\n  token: null,\r\n  login: () => {},\r\n  logout: () => {},\r\n});\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport Button from \"../FormElements/Button\";\r\n\r\nimport \"./ImageUpload.css\";\r\nconst ImageUpload = (props) => {\r\n  const [file, setFile] = useState();\r\n  const [previewUrl, setPreviewUrl] = useState();\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const filePickerRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (!file) {\r\n      return;\r\n    }\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      setPreviewUrl(fileReader.result);\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  }, [file]);\r\n\r\n  const pickedHandler = (event) => {\r\n    let pickedFile;\r\n    let fileIsValid = isValid;\r\n    if (event.target.files && event.target.files.length === 1) {\r\n      pickedFile = event.target.files[0];\r\n      setFile(pickedFile);\r\n      setIsValid(true);\r\n      fileIsValid = true;\r\n    } else {\r\n      setIsValid(false);\r\n      fileIsValid = false;\r\n    }\r\n    props.onInput(props.id, pickedFile, fileIsValid);\r\n  };\r\n\r\n  const pickImageHandler = () => {\r\n    filePickerRef.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-control\">\r\n      <input\r\n        id={props.id}\r\n        ref={filePickerRef}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".jpg,.png,.jpeg\"\r\n        onChange={pickedHandler}\r\n      />\r\n      <div className={`image-upload ${props.center && \"center\"} `}>\r\n        <div className=\"image-upload__preview\">\r\n          {previewUrl && <img src={previewUrl} alt=\"Preview\" />}\r\n          {!previewUrl && <p>Please pick an Image</p>}\r\n        </div>\r\n        <Button type=\"button\" onClick={pickImageHandler}>\r\n          PICK IMAGE\r\n        </Button>\r\n      </div>\r\n      {!isValid && <p>{props.errorText}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport \"./PlaceForm.css\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport {\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from \"../../shared/util/Validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hooks\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport ImageUpload from \"../../shared/components/UIElements/imageUpload\";\r\nimport \"./PlaceForm.css\";\r\n\r\nconst NewPlaces = () => {\r\n  const history = useHistory();\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const auth = useContext(AuthContext);\r\n  const [formState, inputChangeHandler] = useForm(\r\n    {\r\n      title: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      description: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      address: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      image: {\r\n        value: null,\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const placeSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"title\", formState.inputs.title.value);\r\n      formData.append(\"description\", formState.inputs.description.value);\r\n      formData.append(\"address\", formState.inputs.address.value);\r\n      formData.append(\"image\", formState.inputs.image.value);\r\n      formData.append(\"creator\", auth.userId);\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + `/places`,\r\n        \"POST\",\r\n        formData,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push(\"/\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <Input\r\n          id=\"title\"\r\n          element=\"input\"\r\n          type=\"text\"\r\n          label=\"Title\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid title\"\r\n          onInput={inputChangeHandler}\r\n        />\r\n        <Input\r\n          id=\"description\"\r\n          element=\"textarea\"\r\n          label=\"Description\"\r\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(5)]}\r\n          errorText=\"Please enter a valid description (at least 5 characters)\"\r\n          onInput={inputChangeHandler}\r\n        />\r\n        <Input\r\n          id=\"address\"\r\n          element=\"input\"\r\n          label=\"Address\"\r\n          validators={[VALIDATOR_REQUIRE()]}\r\n          errorText=\"Please enter a valid Address\"\r\n          onInput={inputChangeHandler}\r\n        />\r\n        <ImageUpload center id=\"image\" onInput={inputChangeHandler} />\r\n        <Button type=\"submit\" disabled={!formState.isValid}>\r\n          ADD PLACE\r\n        </Button>\r\n      </form>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default NewPlaces;\r\n","import React from \"react\";\r\n\r\nimport \"./MainHeader.css\";\r\n\r\nconst MainHeader = (props) => {\r\n  return <header className=\"main-header\">{props.children}</header>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React, { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport \"./NavLinks.css\";\r\nimport { AuthContext } from \"../../context/auth-context\";\r\n\r\nconst NavLinks = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <ul className=\"nav-links\">\r\n      <li>\r\n        <NavLink to=\"/\" exact>\r\n          ALL USERS\r\n        </NavLink>\r\n      </li>\r\n      <li>\r\n        {auth.isLoggedIn && (\r\n          <NavLink to={`/${auth.userId}/places`}>MY PLACES</NavLink>\r\n        )}\r\n      </li>\r\n      <li>\r\n        {auth.isLoggedIn && <NavLink to=\"/places/new\">ADD PLACE</NavLink>}\r\n      </li>\r\n      <li>{!auth.isLoggedIn && <NavLink to=\"/auth\">AUTHENTICATE</NavLink>}</li>\r\n      {auth.isLoggedIn && (\r\n        <li>\r\n          <button onClick={auth.logout}>LOGOUT</button>\r\n        </li>\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default NavLinks;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\n\r\nimport \"./SideDrawer.css\";\r\n\r\nconst SideDrawer = (props) => {\r\n  const content = (\r\n    <CSSTransition\r\n      in={props.show}\r\n      timeout={200}\r\n      classNames=\"slide-in-left\"\r\n      mountOnEnter\r\n      unmountOnExit\r\n    >\r\n      <aside className=\"side-drawer\" onClick={props.onClick}>\r\n        {props.children}\r\n      </aside>\r\n    </CSSTransition>\r\n  );\r\n  return ReactDOM.createPortal(content, document.getElementById(\"drawer-hook\"));\r\n};\r\n\r\nexport default SideDrawer;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./MainNavigation.css\";\r\nimport MainHeader from \"./MainHeader\";\r\nimport NavLinks from \"./NavLinks\";\r\nimport SideDrawer from \"./SideDrawer\";\r\nimport Backdrop from \"../UIElements/Backdrop\";\r\n\r\nconst MainNavigation = (props) => {\r\n  const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n\r\n  const openDrawer = () => {\r\n    setDrawerIsOpen(true);\r\n  };\r\n\r\n  const closeDrawer = () => {\r\n    setDrawerIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {drawerIsOpen && <Backdrop onClick={closeDrawer} />}\r\n      <SideDrawer show={drawerIsOpen} onClick={closeDrawer}>\r\n        <nav className=\"main-navigation__drawer-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n      </SideDrawer>\r\n      <MainHeader>\r\n        <button className=\"main-navigation__menu-btn\" onClick={openDrawer}>\r\n          <span />\r\n          <span />\r\n          <span />\r\n        </button>\r\n        <h1 className=\"main-navigation__title\">\r\n          <Link to=\"/\">Travelish</Link>\r\n        </h1>\r\n        <nav className=\"main-navigation__header-nav\">\r\n          <NavLinks />\r\n        </nav>\r\n      </MainHeader>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\nimport \"./Map.css\";\r\n\r\nconst Map = (props) => {\r\n  const mapRef = useRef();\r\n\r\n  const { zoom, center } = props;\r\n\r\n  useEffect(() => {\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: center,\r\n      zoom: zoom,\r\n    });\r\n    new window.google.maps.Marker({ position: center, map: map });\r\n  }, [zoom, center]);\r\n\r\n  return (\r\n    <div\r\n      ref={mapRef}\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport \"./placeItem.css\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal\";\r\nimport Map from \"../../shared/components/UIElements/Map\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\n\r\nconst PlaceItem = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n  const openMapHandler = () => setShowMap(true);\r\n\r\n  const closeMapHandler = () => setShowMap(false);\r\n\r\n  const showDeleteWarningHandler = () => {\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const cancelDeleteWarningHandler = () => {\r\n    setShowConfirmModal(false);\r\n  };\r\n\r\n  const confirmDeleteHandler = async () => {\r\n    setShowConfirmModal(false);\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + `/places/${props.id}`,\r\n        \"DELETE\",\r\n        null,\r\n        {\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      props.onDelete(props.id);\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={props.address}\r\n        contentClass=\"place-item__modal-content\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n      >\r\n        <div className=\"map-container\">\r\n          <Map center={props.coordinates} zoom={16} />\r\n        </div>\r\n      </Modal>\r\n\r\n      <Modal\r\n        show={showConfirmModal}\r\n        onCancel={cancelDeleteWarningHandler}\r\n        header=\"Are you sure?\"\r\n        footerClass=\"place-item__modal-actions\"\r\n        footer={\r\n          <React.Fragment>\r\n            <Button inverse onClick={cancelDeleteWarningHandler}>\r\n              CANCEL\r\n            </Button>\r\n            <Button danger onClick={confirmDeleteHandler}>\r\n              DELETE\r\n            </Button>\r\n          </React.Fragment>\r\n        }\r\n      >\r\n        <p>\r\n          Do you want to proceed and delelte this place ? Please Note that it\r\n          can't be undone thereafter.\r\n        </p>\r\n      </Modal>\r\n\r\n      <li className=\"place-item\">\r\n        <Card className=\"place-item__content\">\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n          <div className=\"place-item__image\">\r\n            <img\r\n              src={process.env.REACT_APP_ASSET_URL + `/${props.image}`}\r\n              alt={props.title}\r\n            />\r\n          </div>\r\n          <div className=\"place-item__info\">\r\n            <h2>{props.title}</h2>\r\n            <h3>{props.address}</h3>\r\n            <p>{props.description}</p>\r\n          </div>\r\n          <div className=\"place-item__actions\">\r\n            <Button inverse onClick={openMapHandler}>\r\n              VIEW ON MAP\r\n            </Button>\r\n            {auth.userId === props.creatorID && (\r\n              <Button to={`/places/${props.id}`}>EDIT</Button>\r\n            )}\r\n            {auth.userId === props.creatorID && (\r\n              <Button danger onClick={showDeleteWarningHandler}>\r\n                DELETE\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </li>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from \"react\";\r\n\r\nimport \"./placeList.css\";\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport PlaceItem from \"./placeItem\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nconst placeList = (props) => {\r\n  if (props.items.length === 0) {\r\n    return (\r\n      <div className=\"place-list center\">\r\n        <Card>\r\n          <h2>No places found. Maybe Create One?</h2>\r\n          <Button to=\"/places/new\">Share Place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ul className=\"place-list\">\r\n      {props.items.map((place) => (\r\n        <PlaceItem\r\n          key={place.id}\r\n          id={place.id}\r\n          title={place.title}\r\n          image={place.image}\r\n          description={place.description}\r\n          address={place.address}\r\n          creatorID={place.creator}\r\n          coordinates={place.location}\r\n          onDelete={props.onDelete}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default placeList;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport PlaceList from \"../components/placeList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\n// import { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst UserPlaces = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [loadedPlaces, setLoadedPlaces] = useState([]);\r\n  // const token = useRef();\r\n  const userId = useParams().userid;\r\n\r\n  useEffect(() => {\r\n    const fetchPlaces = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + `/places/users/${userId}`\r\n        );\r\n        setLoadedPlaces(responseData.places);\r\n      } catch (err) {}\r\n    };\r\n    fetchPlaces();\r\n  }, [sendRequest, userId]);\r\n\r\n  const deletePlaceHandler = (deletePlaceId) => {\r\n    setLoadedPlaces((prevPlaces) =>\r\n      prevPlaces.filter((place) => place.id !== deletePlaceId)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedPlaces && (\r\n        <PlaceList items={loadedPlaces} onDelete={deletePlaceHandler} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport ErrorModel from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport \"./PlaceForm.css\";\r\nimport {\r\n  VALIDATOR_REQUIRE,\r\n  VALIDATOR_MINLENGTH,\r\n} from \"../../shared/util/Validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hooks\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\nimport { AuthContext } from \"../../shared/context/auth-context.js\";\r\n\r\nconst UpdatePlace = () => {\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n  const [loadedPlace, setLoadedPlace] = useState();\r\n  const placeId = useParams().placeId;\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [formState, inputChangeHandler, setFormData] = useForm(\r\n    {\r\n      title: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      description: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchPlace = async () => {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          process.env.REACT_APP_BACKEND_URL + `/places/${placeId}`\r\n        );\r\n        setLoadedPlace(responseData.place);\r\n        setFormData(\r\n          {\r\n            title: {\r\n              value: responseData.title,\r\n              isValid: true,\r\n            },\r\n            description: {\r\n              value: responseData.description,\r\n              isValid: true,\r\n            },\r\n          },\r\n          true\r\n        );\r\n      } catch (err) {}\r\n    };\r\n    fetchPlace();\r\n  }, [sendRequest, placeId, setFormData]);\r\n\r\n  const placeUpdateSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await sendRequest(\r\n        process.env.REACT_APP_BACKEND_URL + `/places/${placeId}`,\r\n        \"PATCH\",\r\n        JSON.stringify({\r\n          title: formState.inputs.title.value,\r\n          description: formState.inputs.description.value,\r\n        }),\r\n        {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + auth.token,\r\n        }\r\n      );\r\n      history.push(\"/\");\r\n    } catch (err) {}\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!loadedPlace && !error) {\r\n    return (\r\n      <div className=\"center\">\r\n        <h2>Could Not find that place</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModel error={error} onClear={clearError} />\r\n      {!isLoading && loadedPlace && (\r\n        <form className=\"place-form\" onSubmit={placeUpdateSubmitHandler}>\r\n          <Input\r\n            id=\"title\"\r\n            element=\"input\"\r\n            type=\"text\"\r\n            label=\"Title\"\r\n            validators={[VALIDATOR_REQUIRE()]}\r\n            errorText=\"Please Enter a valid title\"\r\n            onInput={inputChangeHandler}\r\n            initialValue={loadedPlace.title}\r\n            initialValid={true}\r\n          />\r\n          <Input\r\n            id=\"description\"\r\n            element=\"textarea\"\r\n            type=\"Description\"\r\n            label=\"Title\"\r\n            validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(5)]}\r\n            errorText=\"Please Enter a valid description (min 5.character)\"\r\n            onInput={inputChangeHandler}\r\n            initialValue={loadedPlace.description}\r\n            initialValid={true}\r\n          />\r\n          <Button type=\"submit\" disabled={!formState.isValid}>\r\n            UPDATE PLACE\r\n          </Button>\r\n        </form>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default UpdatePlace;\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport Card from \"../../shared/components/UIElements/Card\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport ImageUpload from \"../../shared/components/UIElements/imageUpload\";\r\nimport {\r\n  VALIDATOR_EMAIL,\r\n  VALIDATOR_MINLENGTH,\r\n  VALIDATOR_REQUIRE,\r\n} from \"../../shared/util/Validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hooks\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hooks\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport \"./auth.css\";\r\n\r\nconst Auth = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [isLoginMode, setIsLoginMode] = useState(true);\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  const [formState, inputHandler, setFormData] = useForm(\r\n    {\r\n      email: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n      password: {\r\n        value: \"\",\r\n        isValid: false,\r\n      },\r\n    },\r\n    false\r\n  );\r\n\r\n  const switchModeHandler = () => {\r\n    if (!isLoginMode) {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: undefined,\r\n          image: undefined,\r\n        },\r\n        formState.inputs.email.isValid && formState.inputs.password.isValid\r\n      );\r\n    } else {\r\n      setFormData(\r\n        {\r\n          ...formState.inputs,\r\n          name: {\r\n            value: \"\",\r\n            isValid: false,\r\n          },\r\n          image: {\r\n            value: null,\r\n            isValid: false,\r\n          },\r\n        },\r\n        false\r\n      );\r\n    }\r\n    setIsLoginMode((prevMode) => !prevMode);\r\n  };\r\n\r\n  const authSubmitHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (isLoginMode) {\r\n      try {\r\n        const responseData = await sendRequest(\r\n          \"http://localhost:5000/api/users/login\",\r\n          \"POST\",\r\n          JSON.stringify({\r\n            email: formState.inputs.email.value,\r\n            password: formState.inputs.password.value,\r\n          }),\r\n          {\r\n            \"Content-Type\": \"application/json\",\r\n          }\r\n        );\r\n        auth.login(responseData.userId, responseData.token);\r\n      } catch (err) {}\r\n    } else {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append(\"email\", formState.inputs.email.value);\r\n        formData.append(\"name\", formState.inputs.name.value);\r\n        formData.append(\"password\", formState.inputs.password.value);\r\n        formData.append(\"image\", formState.inputs.image.value);\r\n        const responseData = await sendRequest(\r\n          \"http://localhost:5000/api/users/signup\",\r\n          \"POST\",\r\n          formData\r\n        );\r\n\r\n        auth.login(responseData.userId, responseData.token);\r\n      } catch (err) {}\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      <Card className=\"authentication\">\r\n        {isLoading && <LoadingSpinner asOverlay />}\r\n        <h2>Login Required</h2>\r\n        <hr />\r\n        <form onSubmit={authSubmitHandler}>\r\n          {!isLoginMode && (\r\n            <Input\r\n              element=\"input\"\r\n              id=\"name\"\r\n              type=\"text\"\r\n              label=\"Your Name\"\r\n              validators={[VALIDATOR_REQUIRE()]}\r\n              errorText=\"Please enter a name.\"\r\n              onInput={inputHandler}\r\n            />\r\n          )}\r\n          {!isLoginMode && (\r\n            <ImageUpload\r\n              center\r\n              id=\"image\"\r\n              onInput={inputHandler}\r\n              errorText=\"Please provide an image.\"\r\n            />\r\n          )}\r\n          <Input\r\n            element=\"input\"\r\n            id=\"email\"\r\n            type=\"email\"\r\n            label=\"E-Mail\"\r\n            validators={[VALIDATOR_EMAIL()]}\r\n            errorText=\"Please enter a valid email address.\"\r\n            onInput={inputHandler}\r\n          />\r\n          <Input\r\n            element=\"input\"\r\n            id=\"password\"\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            validators={[VALIDATOR_MINLENGTH(6)]}\r\n            errorText=\"Please enter a valid password, at least 6 characters.\"\r\n            onInput={inputHandler}\r\n          />\r\n          <Button type=\"submit\" disabled={!formState.isValid}>\r\n            {isLoginMode ? \"LOGIN\" : \"SIGNUP\"}\r\n          </Button>\r\n        </form>\r\n        <Button inverse onClick={switchModeHandler}>\r\n          SWITCH TO {isLoginMode ? \"SIGNUP\" : \"LOGIN\"}\r\n        </Button>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\n\nimport Users from \"./users/pages/Users\";\nimport NewPlaces from \"./places/pages/NewPlaces\";\nimport MainNavigation from \"./shared/components/Navigation/MainNavigation\";\nimport UserPlaces from \"./places/pages/UserPlaces\";\nimport UpdatePlace from \"./places/pages/UpdatePlace\";\nimport Authenticate from \"./users/pages/auth\";\nimport { AuthContext } from \"./shared/context/auth-context\";\nimport { useAuth } from \"./shared/hooks/auth-hooks\";\n\nconst App = () => {\n  const { token, login, logout, userId } = useAuth();\n\n  let routes;\n  if (token) {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/places/new\">\n          <NewPlaces />\n        </Route>\n        <Route path=\"/places/:placeId\">\n          <UpdatePlace />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n  } else {\n    routes = (\n      <Switch>\n        <Route path=\"/\" exact>\n          <Users />\n        </Route>\n        <Route path=\"/:userid/places\" exact>\n          <UserPlaces />\n        </Route>\n        <Route path=\"/auth\">\n          <Authenticate />\n        </Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn: !!token,\n        token: token,\n        logout: logout,\n        login: login,\n        userId: userId,\n      }}\n    >\n      <Router>\n        <MainNavigation />\n        <main>{routes}</main>\n      </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}